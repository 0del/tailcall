version: 1.0.0
server:
  baseURL: https://jsonplaceholder.typicode.com

# Schemas to be using in endpoints
schemas:
  - &Geo
    type: object
    fields:
      - name: lat
        required: true
        schema:
          type: String

      - name: lng
        required: true
        schema:
          type: String
  - &Address
    type: object
    fields:
      - name: street
        required: true
        schema:
          type: String

      - name: suite
        required: true
        schema:
          type: String

      - name: city
        required: true
        schema:
          type: String

      - name: zipcode
        required: true
        schema:
          type: String

      - name: geo
        required: false
        schema: *Geo
  - &Post
    type: object
    fields:
      - name: userId
        required: true
        schema:
          type: Integer

      - name: id
        required: true
        schema:
          type: Integer

      - name: title
        required: true
        schema:
          type: String

      - name: body
        required: true
        schema:
          type: String
  - &IdList
    type: array
    item:
      type: ID
  - &User
    type: object
    fields:
      - name: id
        required: true
        schema:
          type: ID

      - name: name
        required: true
        schema:
          type: String

      - name: email
        required: true
        schema:
          type: String

      - name: address
        required: false
        schema: *Address
  - &Query
    type: object
    fields:
      - name: users
        schema:
          type: array
          item: *User
      - name: posts
        schema:
          type: array
          item: *Post

# List of endpoints
endpoints:
  - &getUsers
    http:
      method: GET
      path: "/users"
    output:
      type: array
      item: *User
  - &getPosts
    http:
      method: GET
      path: "/posts"
    input:
      type: object
      fields:
        - name: id
          schema: *IdList
    output:
      type: array
      item: *Post
